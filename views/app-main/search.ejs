<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>pakPOL | Search Results</title>

  <link rel="icon" href="/app-main/gallery/ICONS/favicon.png" type="image/x-icon">

  <link rel="stylesheet" href="/app-main/css/bootstrap.min.css">

  <link rel="stylesheet" href="/app-main/css/search.css">

</head>

<body>

<%- include("../crime-related-app-main/partials/navbar.ejs") %>

<div class="container">

  <h3 class="mt-4">Search Results</h3>

    <div class="row mt-4">

        <% if (results.length > 0) { %>

            <% const categories = { Criminals: [], Crimes: [], Officers: [], Witnesses: [], Aliases: [], Suspects: [], Evidence: [], Sentences: [], Jails: [], Investigations: [], Cases: [], Victims: [], Arrests: [] }; %>
          
            <% results.forEach((result) => { %>
              
              <% if (result.Criminal_Name) { %>
                <% categories.Criminals.push(result); %>
              <% } 
              
              else if (result.Crime_Type) { %>
                <% categories.Crimes.push(result); %>
              <% } 
              
              else if (result.Officer_Name) { %>
                <% categories.Officers.push(result); %>
              <% } 
              
              //... (continue for other categories) %>
          
            <% }) %>
          
            <% for (const [category, items] of Object.entries(categories)) { %>
              
              <% if (items.length > 0) { %>
                
                <h4 class="mt-4"></h4>
                
                <% items.forEach((item) => { %>
                  
                  <div class="col-md-4 mb-4">
                    <!-- Display individual result item -->
                    <!-- Use similar structure as before for each type -->
                    
                    <% if (item.Criminal_Name) { %>
                      <div class="search_card">
                        <h4>Criminal: <%= item.Criminal_Name %></h4>
                        <a href="/criminal/<%= item.id %>"><img src="<%= item.Criminal_Image %>" alt="" /></a>
                      </div>
                      
                    <% } %>

                  </div>

                <% }) %>

              <% } %>

            <% } %>
          
          <% } 
          
          else { %>
            <p>No results found.</p>
          <% } %>
          
    </div>

</div>




<script src="/app-main/js/bootstrap.min.js"></script>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  
</body>

</html>
